2.3.4 Создание области своппинга 


Если вы планируете использовать раздел своппинга для виртуальной памяти, вы должны быть готовы к его использованию. (Некоторые дистрибутивы подготавливают область своппинга автоматически или через соответствующую опцию меню инсталляции). В Главе 4 мы обсудим подготовку файла своппинга в случае, если вы не захотите использовать отдельный раздел.

 


Многие дистрибутивы потребуют от вас создать и активизировать область своппинга до инсталляции программ. Если у вас небольшой об'ем физической RAM, процесс инсталляции может не завершиться успешно, пока вы не выделите какой-то об'ем под область своппинга.

 


Дистрибутив Slackware требует создания области своппинга до инсталляции, если вы имеете 4M RAM или меньше. Если у вас нет таких ограничений, инсталляционная процедура Slackware выделит область своппинга автоматически. Если у вас возникают сомнения, то следуйте процедуре, описанной здесь; она не сможет вам навредить.

 


Команда создания раздела для своппинга называется mkswap и имеет вид

 

    mkswap -c <partition> <size>




где <partition> - имя раздела своппинга, а <size> - размер этого раздела в блоках. size of the partition, in blocks. Еще раз напомним, что в некоторых дистрибутивах область своппинга создается автоматически и блок в Linux занимает 1024 байта. 


Например, если ваш раздел своппинга /dev/hda3 и имеет размер в 10336 блоков, используйте команду

 

    # mkswap -c /dev/hda3 10336




Опция -c команды mkswap обеспечивает проверку плохих блоков в разделе при создании области своппинга.

 


Если вы используете несколько разделов для своппинга, вам необходимо выполнить соответствующие команды mkswap для каждого раздела.

 


После форматирования области своппинга необходимо сделать ее пригодной для использования системой. Обычно система автоматически готовит место во время загрузки. Но, поскольку вы еще не инсталлировали Linux, вы должны подготовить его вручную.

 


Команда подготовки области своппинга - swapon имеет вид

 

    swapon <partition>






Для вышеприведенного примера, чтобы подготовить область своппинга на /dev/hda3, необходимо выполнить команду

 

    # swapon /dev/hda3






