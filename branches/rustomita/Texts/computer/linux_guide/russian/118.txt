2.2.4 Разбиение вашего жесткого диска 


В этом разделе мы опишем, как изменить размеры ваших уже существующих разделов, чтобы выделить место для Linux. Если вы инсталлируете Linux на "чистый" диск, вы можете пропустить этот раздел и продолжить чтение с Раздела 2.3.

 


Обычный способ изменить размеры существующего раздела - это удалить его (уничтожив все данные, которые он содержал) и вновь его создать. Перед переразбиением диска сделайте backup системы. А затем восстановите информацию. В MS-DOS существует несколько программ, которые могут переразбить диск без уничтожения информации. Одна из них известна как FIPS, ее можно найти на FTP-серверах Linux.

 


Имейте также в виду, что, поскольку вы будете уменьшать существовавшие разделы, у вас может потом не хватить места, чтобы все восстановить. В этом случае вы предварительно должны стереть все маловажное, чтобы после уменьшения разделов хватило места.

 


Программа, используемая для разбиения на разделы известна, как fdisk. Каждая операционная система имеет собственный аналог этой программы; например, под MS-DOS она вызывается командой FDISK. Вам следует посмотреть документацию на вашу операционную систему относительно перераспределения разделов. Здесь мы обсудим, как переразбивать на разделы в MS-DOS с использованием FDISK, но эта информация может быть легко распространена на другие операционные системы.

 


Посмотрите документацию на свою операционную систему, прежде чем переразбивать свой диск. Этот раздел затрагивает лишь основные черты переразбиения; существует много тонкостей, которые здесь не рассматриваются. Вы можете потерять все программы, если неправильно переразобьете свой диск.

 


Предупреждение. Не модифицируйте и не создавайте вновь раздел для любой другой операционной системы (включая Linux), используя FDISK под MS-DOS. Вы можете производить модификацию только для конкретной операционной системы; например, вы должны создавать разделы для Linux, используя версию fdisk для Linux. Позже, в Разделе 2.3.3 мы опишем, как создавать разделы для Linux. Но сейчас мы обсуждаем изменение размера существующих.

 


Предположим, что вы имеете один диск, полностью отданный под MS-DOS. Таким образом, ваш диск состоит целиком из одного раздела, обычно известного как ``C:''. Поскольку этот метод портит данные этого раздела, вам необходимо создать загрузочную таблицу MS-DOS ``system disk'', которая хранит все необходимое для выполнения FDISK и последующего backup.

 


Во многих случаях вы можете использовать для этой цели инсталляционные диски под MS-DOS. Если вы хотите создать свой системный диск, отформатируйте дискету командой

 

    FORMAT /s A:




Скопируйте на эту дискету все необходимые утилиты MS-DOS (обычно большинство программ каталога \DOS на вашем диске), а также программы FORMAT.COM и FDISK.EXE. Теперь вы можете загрузиться с этой дискеты и выполнить команду

 

    FDISK C:




Работа FDISK должна сопровождаться об'яснениями, но детали следует посмотреть в документации на MS-DOS. Когда вы запустите FDISK, используйте опцию menu для отображения таблицы разделов и спишите приведенную там информацию. Важно сохранить запись о ваших первоначальных установках setup в случае, если вы захотите отказаться от инсталляции Linux.

 


Для удаления существующего раздела выберите в меню FDISK опцию ``Delete an MS-DOS Partition or Logical DOS Drive''. Опишите тип раздела, который вы желаете удалить (первичный, расширенный или логический) и число разделов. Внимательно отнеситесь ко всем предупреждениям. Ух!

 


Для создания нового (меньшего) раздела для MS-DOS, выберите опцию FDISK ``Create an MS-DOS Partition or Logical DOS Drive''. Опишите тип раздела (первичный, расширенный или логический) и размер создаваемого раздела (в мегабайтах). FDISK создаст раздел.

 


После того, как вы закончите работу с FDISK, следует выйти из программы и переформатировать новый раздел. Например, если вы изменяете размер первого DOS раздела на диске (C:), следует выполнить команду

 

    FORMAT /s C:




Теперь Вы можете ПЕРЕУСТАНОВИТЬ первоначальную систему с backup.

 




